<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title></title>
    <!-- <link rel="stylesheet" href="/static/css/tailwind.css" /> -->
    <script src="https://cdn.tailwindcss.com"></script>

    <script
      src="https://unpkg.com/htmx.org@1.9.12"
      integrity="sha384-ujb1lZYygJmzgSwoxRggbCHcjc0rB2XoQrxeTUQyRjrOnlCoYta87iKBWq3EsdM2"
      crossorigin="anonymous"
    ></script>
    <!-- <script src="https://unpkg.com/htmx.org@1.9.12/dist/ext/multi-swap.js"></script> -->
  </head>
  <body hx-boost="true" class="text-sm">
    <h1 class="text-2xl mx-2 my-3">Page Table Viewer</h1>
    <div class="grid gap-2 grid-cols-2 grid-rows-2">
      <div id="pid-div">
        <form id="myForm">
          <input
            class="border border-black m-2 rounded p-1"
            type="text"
            name="pid"
            placeholder="Process Id"
            required
          />
          <button
            hx-post="/pid"
            hx-target="#pid"
            hx-swap="outerHTML"
            type="submit"
            class="border-2 border-black p-1 rounded bg-gray-50"
          >
            Submit
          </button>
        </form>
      </div>
      <div id="virt-div" class="mx-2 row-start-2">
        <label id="pid" for="virt"><b>Process Id:</b> 0</label>
        <form id="myForm">
          <input
            class="border border-black rounded p-1 my-1"
            type="text"
            name="virt"
            placeholder="virt. address"
            required
          />
          <button
            type="submit"
            class="border-2 border-black p-1 rounded bg-gray-50"
            hx-post="/translate"
            hx-target="#phys"
            hx-swap="innerHTML"
          >
            Translate
          </button>
          <label id="phys" class="border-2 border-black p-1 bg-blue-50"
            >{{ .Phys }}</label
          >
        </form>
      </div>
      {{template "full-entry"}} {{define "full-entry"}}
      <div
        id="full-entry"
        class="bg-blue-400 row-start-1 col-start-1 text-center content-center rounded mx-2"
      >
        Click on entry to display full entry here
      </div>
      {{end}}
    </div>
    <button
      hx-post="/show-tables"
      hx-swap="outerHTML"
      hx-target="#pml4"
      type="submit"
      class="border-2 border-black p-1 rounded bg-gray-50 m-2"
    >
      Show Tables
    </button>
    <div id="page-tables" class="w-full h-screen mt-3 flex">
      {{ template "pml4" }} {{define "pml4"}}
      <div id="pml4"></div>
      {{end}} {{template "pdpt"}} {{define "pdpt"}}
      <div id="pdpt"></div>
      {{end}} {{template "pd"}} {{define "pd"}}
      <div id="pd"></div>
      {{end}}{{template "pte"}} {{define "pte"}}
      <div id="pte"></div>
      {{end}}
    </div>
  </body>
</html>
