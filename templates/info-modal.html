{{ define "info-modal" }}
<div
  id="info-modal"
  class="fixed top-1/2 left-1/2 w-11/12 h-4/5 transform -translate-x-1/2 -translate-y-1/2 z-50 bg-white rounded border-black border-2 overflow-auto"
>
  <div class="grid grid-rows-auto grid-cols-1 h-auto">
    <div
      class="flex relative justify-center content-between row-start-1 row-end-2"
    >
      <div class="bg-gray-200 w-full mr-4">
        <button
          class="bg-inherit float-left outline-none cursor-pointer p-3 active:bg-gray-500 w-1/3 focus:bg-gray-500 focus:border-r-2 focus:border-black focus:border-solid"
          autofocus
          hx-post="/show-maps"
          hx-target="#info-content"
          hx-swap="outerHTML"
          hx-trigger="click,load"
          tabindex="-1"
        >
          <b>Maps</b>
        </button>
        <button
          class="bg-inherit float-left outline-none cursor-pointer p-3 active:bg-gray-500 w-1/3 focus:bg-gray-500 focus:border-l-2 focus:border-r-2 focus:border-black focus:border-solid"
          hx-post="/show-sections"
          hx-target="#info-content"
          hx-swap="outerHTML"
          tabindex="-1"
        >
          <b>Sections</b>
        </button>
        <button
          class="bg-inherit border-black border-r-2 float-left outline-none cursor-pointer p-3 active:bg-gray-500 w-1/3 focus:bg-gray-500 focus:border-r-2 focus:border-l-2 focus:border-black focus:border-solid"
          hx-post="/attach"
          hx-target="#info-content"
          hx-swap="outerHTML"
          tabindex="-1"
        >
          <b>GDB</b>
        </button>
      </div>
      <button
        type="submit"
        class="ml-auto top-0 right-0 bg-red-500 p-2 m-1 rounded size-fit"
        hx-post="/close-info-modal"
        hx-target="#info-modal"
        hx-swap="outerHTML"
        hx-trigger="click"
      >
        <b>X</b>
      </button>
    </div>
    {{block "info-content" .}}
    <div
      class="flex flex-col"
      id="info-content"
      style="
        font-family:
          Courier New,
          monospace;
      "
    >
      <div
        class="text-base/loose p-4 w-full h-full border-t-2 border-solid border-black rounded"
        id="content"
      >
        <pre>{{.maps}}</pre>
      </div>
      {{if .gdb}}
      <div
        class="w-full bottom-0 sticky bg-white border-t-2 border-black rounded p-2"
      >
        <form
          hx-post="/send-cmd"
          hx-trigger="submit"
          hx-target="#info-content"
          hx-swap="outerHTML"
        >
          <label for="command">(gdb)</label>
          <input
            type="text"
            id="command"
            name="command"
            class="border border-black rounded p-1"
            required
          />
          <button type="submit" class="border-black border rounded p-1">
            Send Command
          </button>
          <button
            hx-post="/send-cmd"
            hx-vals='{"sigint": "true"}'
            hx-target="#info-content"
            hx-swap="outerHTML"
            class="border-black border rounded p-1"
          >
            SIGINT
          </button>
        </form>
      </div>
      {{end}}
    </div>
    {{end}}{{end}}
  </div>
</div>
